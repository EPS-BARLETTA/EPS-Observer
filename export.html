<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>EPS Observer â€” Export</title>
  <link rel="stylesheet" href="./assets/style.css">
  <script type="module">
    import {load, buildPDF, makeNav} from './assets/app.js';
    const state = load();
    window.addEventListener('DOMContentLoaded', ()=>{
      document.body.append(makeNav("Export"));
      const pre=document.getElementById('preview');
      pre.textContent = JSON.stringify(state, null, 2);
      document.getElementById('btnPdf').onclick = ()=> buildPDF(state);
      document.getElementById('btnClear').onclick = ()=>{ if(confirm("Tout effacer ?")){ localStorage.clear(); location.reload(); } };
    });
  </script>
</head>
<body>
  <header class="header">
    <div class="brand">ðŸ“„ Export</div>
    <div class="row no-print">
      <a class="btn" href="./index.html">Accueil</a>
      <button id="btnPdf" class="btn btn-cta">GÃ©nÃ©rer PDF</button>
      <button id="btnClear" class="btn btn-danger">Tout effacer</button>
    </div>
  </header>
  <main class="main">
    <section class="card">
      <h2 class="section-title">AperÃ§u</h2>
      <pre id="preview" style="white-space:pre-wrap; background:#0a1020; padding:12px; border-radius:12px; border:1px solid var(--border)"></pre>
    </section>
  </main>
</body>
</html>
